# README
 * Author: Frank Pfenning <fp@cs.cmu.edu>
 * Modified: Anand Subramanian <asubrama@andrew.cmu.edu>
 * Modified for Haskell: Rokhini Prabhu <rokhinip@andrew.cmu.edu>

-----------------------------------------------------------------------
Welcome to 15-411!
-----------------------------------------------------------------------

This is some starter code for the L1 compiler you have to build for
the Lab1.  It contains a lexer, parser, translator, and even a code
generator, except that the code generator creates pseudo assembly
language with fictitious instructions and an unlimited number of
registers.  We took some care to use good style (according to the
instructor); you may consider this a model for your own coding.  Feel
free to modify any and all of this code as you see fit.

Bug reports to the course staff are particularly welcome and will be
noted in the extra credit category.

-----------------------------------------------------------------------
Haskell Notes
-----------------------------------------------------------------------

This starter code assumes GHC 8.6.5, which is the version on the Docker
image (and hence the autograder).

It bears mentioning that, to use `ghc` and `ghci` on the Docker image,
you can run commands like:

```
$ stack exec -- ghci
$ stack exec -- ghc
```

From within your project, you can just run `stack ghci` to spin up a
REPL with access to the modules you wrote.

------------------------------------------------------------------------
Source Files
------------------------------------------------------------------------
The following are the source files for the L1 compiler

```
README               -- this file

c0c.cabal            -- This is the configuration for the standard package
                        system for Haskell software.
Makefile             -- makefile for the compiler
                        For a quick test

    % make              (generates file bin/c0c)
    % bin/c0c ../../tests/l1-basic/return01.l1
            (generates ../../tests/l1-basic/return01.l1.abs in pseudo assembly)

    % make clean        (removes generated files)

bin/c0c              -- the native executable generated by Haskell

src/                Source code for the compiler
    c0c.hs              This is effectively main() function for your
                        compiler
    Compile.hs          This does all the steps necessary in your compiler
                        - from parsing till writng out assembly to a file
    Args.hs             Parses command line arguments
    LiftIOE.hs          Utility helper functions
    Util.hs             Utility helper functions

Compile/
    Lexer.x             lexer (based on Alex, generates Lexer.hs)
    Parser.y            parser (based on Happy, generates Parser.y)
    CheckAST.hs         typechecker
    CodeGen.hs          code generation - conversion to abstract assembly
    Types.hs            includes all the types specified in Types/ folder

    Types/                  Includes the data structures and types used
                            in the code in Compile/
        AST.hs              Abstract Syntax Tree from parsing
        AbstractAssembly.hs The assembly produced by code generation
        Ops.hs              The binops and monops used in AST and
                            AbstractAssembly
        Jobs.hs             Each source code file you parse is its own job
```
